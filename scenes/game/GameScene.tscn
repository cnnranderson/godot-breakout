[gd_scene load_steps=10 format=3 uid="uid://da1lhb2vw0goq"]

[ext_resource type="Script" path="res://scenes/game/GameScene.gd" id="1"]
[ext_resource type="PackedScene" path="res://entities/paddle/Paddle.tscn" id="2"]
[ext_resource type="PackedScene" path="res://entities/grid/Grid.tscn" id="3"]
[ext_resource type="Theme" uid="uid://bmd3uyc8hoh70" path="res://base_theme.tres" id="4"]
[ext_resource type="Shader" path="res://shaders/palette.gdshader" id="5"]
[ext_resource type="Script" path="res://scenes/game/Camera.gd" id="6"]
[ext_resource type="FontFile" uid="uid://daggcg4k747t0" path="res://fonts/romulus.ttf" id="7"]

[sub_resource type="ShaderMaterial" id="1"]
shader = ExtResource("5")
shader_parameter/SelectedColor = Color(0.18, 0.25, 0.32, 1)

[sub_resource type="FontFile" id="2"]
fallbacks = Array[Font]([ExtResource("7")])
cache/0/16/0/ascent = 0.0
cache/0/16/0/descent = 0.0
cache/0/16/0/underline_position = 0.0
cache/0/16/0/underline_thickness = 0.0
cache/0/16/0/scale = 1.0
cache/0/16/0/kerning_overrides/16/0 = Vector2(0, 0)

[node name="GameScene" type="Node2D"]
script = ExtResource("1")

[node name="Camera3D" type="Camera2D" parent="."]
position = Vector2(360, 320)
script = ExtResource("6")

[node name="Paddle" parent="." instance=ExtResource("2")]
position = Vector2(360, 580)

[node name="Grid" parent="." instance=ExtResource("3")]
position = Vector2(360, 160)

[node name="Balls" type="Node2D" parent="."]

[node name="Walls" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Walls"]
polygon = PackedVector2Array(-20, -20, 740, -20, 740, 640, 720, 640, 720, 0, 0, 0, 0, 640, -20, 640)

[node name="Hud" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
theme = ExtResource("4")

[node name="StartCountdownLabel" type="Label" parent="Hud"]
material = SubResource("1")
layout_mode = 0
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 345.0
offset_top = 295.0
offset_right = 385.0
offset_bottom = 347.0
theme = ExtResource("4")
text = "3"

[node name="Score" type="HBoxContainer" parent="Hud"]
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 40.0
offset_top = 10.0
offset_right = 324.0
offset_bottom = 50.0
theme_override_constants/separation = 12

[node name="Label" type="Label" parent="Hud/Score"]
layout_mode = 2
theme_override_colors/font_color = Color(1, 0.784314, 0.341176, 1)
theme_override_fonts/font = SubResource("2")
text = "Score:"

[node name="Value" type="Label" parent="Hud/Score"]
layout_mode = 2
theme_override_colors/font_color = Color(1, 0.784314, 0.341176, 1)
theme_override_fonts/font = SubResource("2")
text = "00000"

[node name="BackButton" type="Button" parent="Hud"]
layout_mode = 0
anchor_left = 1.0
anchor_right = 1.0
offset_left = 620.0
offset_top = 10.0
offset_right = 696.0
offset_bottom = 42.0
text = "Back"

[node name="Timers" type="CanvasLayer" parent="."]

[node name="StartTimer" type="Timer" parent="Timers"]
wait_time = 3.0
one_shot = true

[connection signal="pressed" from="Hud/BackButton" to="." method="_on_BackButton_pressed"]
[connection signal="timeout" from="Timers/StartTimer" to="." method="_on_StartTimer_timeout"]
